使用锁还控制两个账号的和永远是200，就能避免出错。

- 使用mutex，首先要用`pthread_mutex_init`函数初始化这个mutex，初始化后，就可以用它来保护共享变量了。

- `pthread_mutex_lock() `就是去抢那把锁的函数，如果抢到了，就可以执行下一行程序，对共享变量进行访； 如果没抢到，就被阻塞在那里等待。 

- 如果不想被阻塞，可以使用`pthread_mutex_trylock`去抢那把锁，如果抢到了，就可以执行下一行程序，对 共享变量进行访问；如果没抢到，不会被阻塞，而是返回一个错误码。 这个函数有一个好处，就是可以避免干等着，可以去做点别的事，当锁被释放的时候，会有**条件变量**来通知可以抢锁了。

- 当共享数据访问结束了，别忘了使用`pthread_mutex_unlock`释放锁，让给其他人使用，最终调用 `pthread_mutex_destroy`销毁掉这把锁。